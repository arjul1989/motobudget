{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jules/Moto_Budget/components/ThemeToggle.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useTheme } from 'next-themes';\n\nexport const ThemeToggle = () => {\n    const [mounted, setMounted] = useState(false);\n    const { theme, setTheme } = useTheme();\n\n    useEffect(() => {\n        setMounted(true);\n    }, []);\n\n    if (!mounted) {\n        return null;\n    }\n\n    return (\n        <button\n            onClick={() => setTheme(theme === 'dark' ? 'light' : 'dark')}\n            className=\"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors text-current border border-white/5\"\n            aria-label=\"Toggle Theme\"\n        >\n            {theme === 'dark' ? (\n                <span className=\"material-symbols-outlined text-[20px]\">light_mode</span>\n            ) : (\n                <span className=\"material-symbols-outlined text-[20px]\">dark_mode</span>\n            )}\n        </button>\n    );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,MAAM,cAAc;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAA,4JAAQ;IAEpC,IAAA,kNAAS,EAAC;QACN,WAAW;IACf,GAAG,EAAE;IAEL,IAAI,CAAC,SAAS;QACV,OAAO;IACX;IAEA,qBACI,8OAAC;QACG,SAAS,IAAM,SAAS,UAAU,SAAS,UAAU;QACrD,WAAU;QACV,cAAW;kBAEV,UAAU,uBACP,8OAAC;YAAK,WAAU;sBAAwC;;;;;qEAExD,8OAAC;YAAK,WAAU;sBAAwC;;;;;;;;;;;AAIxE"}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///Users/jules/Moto_Budget/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSession, signOut } from \"next-auth/react\";\nimport Link from \"next/link\";\nimport { useState, useEffect } from \"react\";\nimport { ThemeToggle } from \"@/components/ThemeToggle\";\n\ninterface Moto {\n    id: string;\n    brand: string;\n    model: string;\n    year: number;\n    status: string; // COMPRADA, EN_REPARACION, A_LA_VENTA, VENDIDA\n    purchaseCostEstimated: number;\n    purchaseCostReal: number | null;\n    salePriceEstimated: number | null;\n    salePriceReal: number | null;\n    image?: string; // URL for moto image\n}\n\nexport default function DashboardPage() {\n    const { data: session } = useSession();\n    const [filter, setFilter] = useState(\"Todos\");\n    const [motos, setMotos] = useState<Moto[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        async function fetchMotos() {\n            try {\n                const res = await fetch('/api/motos');\n                if (res.ok) {\n                    const data = await res.json();\n                    setMotos(data);\n                }\n            } catch (e) {\n                console.error(e);\n            } finally {\n                setLoading(false);\n            }\n        }\n        fetchMotos();\n    }, []);\n\n    const filteredMotos = filter === \"Todos\"\n        ? motos\n        : motos.filter(m => m.status === filter.toUpperCase().replace(/ /g, '_'));\n\n\n    // Status mapping for visual display\n    const getStatusDisplay = (status: string) => {\n        return status.replace(/_/g, ' ');\n    }\n\n    // Calculate summary stats\n    const totalInvertido = motos.reduce((acc, m) => acc + ((m.purchaseCostReal || m.purchaseCostEstimated) || 0), 0);\n    const totalProyectado = motos.reduce((acc, m) => acc + ((m.salePriceEstimated || 0) * 1), 0);\n\n    return (\n        <main className=\"bg-background-light dark:bg-background-dark text-slate-900 dark:text-white min-h-screen flex flex-col relative overflow-hidden font-display selection:bg-primary selection:text-black transition-colors duration-300\">\n\n            {/* Top App Bar */}\n            <header className=\"fixed top-0 left-0 right-0 z-50 px-4 py-3 flex items-center justify-between max-w-7xl mx-auto w-full bg-white/90 dark:bg-background-dark/90 backdrop-blur-md border-b border-gray-200 dark:border-white/5 transition-all duration-300\">\n                <div className=\"flex items-center gap-2\">\n                    <span className=\"material-symbols-outlined text-primary text-3xl\">two_wheeler</span>\n                    <h2 className=\"text-slate-900 dark:text-white text-xl font-bold tracking-tight uppercase\">R-Motos</h2>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                    <ThemeToggle />\n                    <button\n                        onClick={() => signOut({ callbackUrl: '/' })}\n                        className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors\"\n                        title=\"Cerrar Sesión\"\n                    >\n                        <span className=\"material-symbols-outlined\">logout</span>\n                    </button>\n                    <button className=\"relative rounded-full overflow-hidden w-10 h-10 border-2 border-primary/20 hover:border-primary transition-colors\">\n                        {session?.user?.image ? (\n                            <img className=\"w-full h-full object-cover\" src={session.user.image} alt=\"User Avatar\" />\n                        ) : (\n                            <div className=\"w-full h-full bg-surface-dark flex items-center justify-center text-primary\">\n                                <span className=\"material-symbols-outlined\">person</span>\n                            </div>\n                        )}\n                    </button>\n                </div>\n            </header>\n\n            {/* Main Content Area - Centered for Desktop */}\n            <div className=\"flex-1 w-full pt-20 pb-24 px-4 overflow-y-auto no-scrollbar space-y-6 max-w-5xl mx-auto\">\n\n                {/* Filter Chips */}\n                <div className=\"flex gap-3 overflow-x-auto no-scrollbar pb-1 -mx-4 px-4 md:mx-0 md:px-0\">\n                    {[\"Todos\", \"En la Mira\", \"Comprada\", \"En Taller\", \"En Venta\", \"Vendida\"].map((f) => (\n                        <button\n                            key={f}\n                            onClick={() => setFilter(f)}\n                            className={`flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full pl-5 pr-5 transition-all text-sm font-medium border ${filter === f\n                                ? \"bg-primary border-primary text-black shadow-md shadow-primary/20 font-bold\"\n                                : \"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 dark:text-text-dim hover:bg-gray-100 dark:hover:bg-surface-highlight hover:text-black dark:hover:text-white\"\n                                }`}\n                        >\n                            {f}\n                        </button>\n                    ))}\n                </div>\n\n                {/* Summary Stats */}\n                <div className=\"grid grid-cols-2 gap-4 md:gap-6\">\n                    <div className=\"bg-white dark:bg-surface-dark rounded-2xl p-4 md:p-6 border border-gray-100 dark:border-white/5 shadow-sm\">\n                        <p className=\"text-gray-500 dark:text-text-dim text-xs uppercase font-bold tracking-wider mb-2\">Total Invertido</p>\n                        <p className=\"text-slate-900 dark:text-white text-2xl md:text-3xl font-bold tracking-tight\">\n                            ${(totalInvertido / 1000000).toFixed(1)}M\n                        </p>\n                    </div>\n                    <div className=\"bg-white dark:bg-surface-dark rounded-2xl p-4 md:p-6 border border-gray-100 dark:border-white/5 shadow-sm\">\n                        <p className=\"text-primary text-xs uppercase font-bold tracking-wider mb-2\">Proyectado</p>\n                        <p className=\"text-primary text-2xl md:text-3xl font-bold tracking-tight\">\n                            +${(totalProyectado / 1000000).toFixed(1)}M\n                        </p>\n                    </div>\n                </div>\n\n                {/* Card List */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6\">\n                    {loading ? (\n                        <div className=\"col-span-full py-10 text-center text-gray-500\">Cargando motos...</div>\n                    ) : filteredMotos.length === 0 ? (\n                        <div className=\"col-span-full py-10 text-center flex flex-col items-center\">\n                            <span className=\"material-symbols-outlined text-4xl text-gray-300 mb-2\">two_wheeler</span>\n                            <p className=\"text-gray-500\">No hay motos en esta categoría</p>\n                        </div>\n                    ) : filteredMotos.map((moto) => (\n                        <Link key={moto.id} href={`/motos/${moto.id}`} className=\"block h-full\">\n                            <div className={`group relative flex flex-col h-full rounded-2xl bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 ${moto.status === 'VENDIDA' ? 'opacity-75' : ''}`}>\n                                <div className=\"flex p-4 gap-4 items-start\">\n                                    {/* Moto Image */}\n                                    <div className=\"w-20 h-20 md:w-24 md:h-24 shrink-0 rounded-xl overflow-hidden relative bg-gray-100 dark:bg-surface-highlight flex items-center justify-center\">\n                                        {moto.image ? (\n                                            <img className={`w-full h-full object-cover ${moto.status === 'VENDIDA' ? 'grayscale' : ''}`} src={moto.image} alt={moto.model} />\n                                        ) : (\n                                            <span className=\"material-symbols-outlined text-gray-300 text-4xl\">motorcycle</span>\n                                        )}\n                                    </div>\n\n                                    <div className=\"flex flex-col flex-1 justify-between min-w-0\">\n                                        <div>\n                                            <div className=\"flex justify-between items-start mb-1\">\n                                                <h3 className={`text-lg font-bold leading-tight truncate pr-2 ${moto.status === 'VENDIDA' ? 'text-gray-400 line-through decoration-primary decoration-2' : 'text-slate-900 dark:text-white'}`}>\n                                                    {moto.brand} {moto.model}\n                                                </h3>\n                                            </div>\n                                            <p className=\"text-sm text-gray-500 mb-2\">{moto.year}</p>\n\n                                            <span className={`inline-flex items-center rounded-md px-2 py-0.5 text-xs font-bold uppercase tracking-wide mb-3 ${moto.status === 'EN_TALLER' ? 'bg-orange-100 dark:bg-orange-400/10 text-orange-700 dark:text-orange-400' :\n                                                moto.status === 'EN_VENTA' ? 'bg-green-100 dark:bg-green-400/10 text-green-700 dark:text-green-400' :\n                                                    moto.status === 'COMPRADA' ? 'bg-blue-100 dark:bg-blue-400/10 text-blue-700 dark:text-blue-400' :\n                                                        moto.status === 'EN_LA_MIRA' ? 'bg-purple-100 dark:bg-purple-400/10 text-purple-700 dark:text-purple-400' :\n                                                            'bg-gray-100 dark:bg-gray-400/10 text-gray-600 dark:text-gray-400'\n                                                }`}>\n                                                {getStatusDisplay(moto.status)}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div className=\"px-4 pb-4 mt-auto\">\n                                    <div className=\"grid grid-cols-2 gap-4 pt-3 border-t border-gray-100 dark:border-white/5\">\n                                        <div className=\"flex flex-col\">\n                                            <span className=\"text-[10px] uppercase text-gray-400 font-bold tracking-wider mb-0.5\">Inversión</span>\n                                            <span className=\"text-slate-900 dark:text-white font-bold font-mono\">\n                                                ${new Intl.NumberFormat('es-CO').format(moto.purchaseCostReal || moto.purchaseCostEstimated)}\n                                            </span>\n                                        </div>\n                                        <div className=\"flex flex-col text-right\">\n                                            <span className=\"text-[10px] uppercase text-gray-400 font-bold tracking-wider mb-0.5\">Venta Est.</span>\n                                            <span className=\"text-primary font-bold font-mono\">\n                                                ${new Intl.NumberFormat('es-CO').format(moto.salePriceEstimated || 0)}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </Link>\n                    ))}\n                </div>\n\n                {/* Bottom Spacer */}\n                <div className=\"h-24\"></div>\n            </div>\n\n            {/* Floating Action Button */}\n            <Link href=\"/motos/new\">\n                <button className=\"fixed bottom-8 right-6 md:bottom-10 md:right-10 z-40 bg-primary hover:bg-primary-dark text-black rounded-2xl w-14 h-14 md:w-16 md:h-16 flex items-center justify-center shadow-[0_4px_20px_rgba(250,204,20,0.4)] transition-transform hover:scale-105 active:scale-95\">\n                    <span className=\"material-symbols-outlined text-3xl md:text-4xl\">add</span>\n                </button>\n            </Link>\n\n            {/* Bottom Navigation - Simplified */}\n            <nav className=\"glass-nav fixed bottom-0 left-0 right-0 z-50 h-[80px] px-6 pb-4 pt-3 flex items-start justify-around md:hidden bg-white/90 dark:bg-[#121212]/90 backdrop-blur-lg border-t border-gray-200 dark:border-white/5\">\n                <button className=\"flex flex-col items-center gap-1 w-16 group\">\n                    <span className=\"material-symbols-outlined text-slate-900 dark:text-primary text-[28px]\">dashboard</span>\n                    <span className=\"text-[10px] font-bold text-slate-900 dark:text-primary\">Inicio</span>\n                </button>\n                <button\n                    onClick={() => signOut({ callbackUrl: '/' })}\n                    className=\"flex flex-col items-center gap-1 w-16 group\"\n                >\n                    <span className=\"material-symbols-outlined text-gray-400 group-hover:text-red-500 transition-colors text-[28px]\">logout</span>\n                    <span className=\"text-[10px] font-medium text-gray-400 group-hover:text-red-500 transition-colors\">Salir</span>\n                </button>\n            </nav>\n\n        </main>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}